{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Components/Common/HeaderComponent/HeaderComponent.js","Components/Common/Confirmation/Confirmation.js","Components/PostPage/EditPost/EditPost.js","Components/PostPage/PostPage.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","HeaderComponent","className","to","src","Images","fullLogo","alt","Confirmation","closeIt","handleDelete","React","useState","loading","setLoading","ReactDOM","createPortal","delete","onClick","document","body","EditPost","data","handleEditPost","title","newDetails","setNewDetails","useEffect","e","stopPropagation","name","onChange","target","PostPage","history","useHistory","usersObject","useContext","MainContext","useParams","postId","id","postDetails","setPostDetails","details","setDetails","comments","setComments","comment","setComment","editing","setEditing","deleteModal","setDeleteModal","setUpPostDetails","a","getPostDetails","res","setUpComments","getCommentsForPost","temp","map","obj","key","nextId","addCommentCall","tempObj","email","addComment","deletePosts","alert","editThePost","onSubmit","preventDefault","required","placeholder"],"mappings":"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","file":"static/js/4.7cb96388.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from \"react\";\r\nimport \"./header-component.style.scss\";\r\nimport { Images } from \"./../../../Assets/0a-export\";\r\nimport { Link } from \"react-router-dom\";\r\nexport default function HeaderComponent() {\r\n  return (\r\n    <div className=\"header-component-main\">\r\n      <div>\r\n        <Link to=\"/\">\r\n          <img src={Images.fullLogo} alt=\"kilowatt\" />\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./confirmation.style.scss\";\r\nimport { Images } from \"./../../../Assets/0a-export\";\r\nexport default function Confirmation({ closeIt, handleDelete }) {\r\n  const [loading, setLoading] = React.useState(false);\r\n  return ReactDOM.createPortal(\r\n    <div className=\"confirmation-modal-main\">\r\n      <section className=\"confirmation-modal\">\r\n        <h4>Are you sure?</h4>\r\n        <img src={Images.delete} />\r\n        {loading ? (\r\n          \"\"\r\n        ) : (\r\n          <div>\r\n            <button\r\n              onClick={() => {\r\n                handleDelete();\r\n                setLoading(true);\r\n              }}\r\n            >\r\n              Yes\r\n            </button>\r\n            <button onClick={()=>closeIt()}>No</button>\r\n          </div>\r\n        )}\r\n      </section>\r\n    </div>,\r\n    document.body\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./edit-post.style.scss\";\r\nexport default function EditPost({ data, closeIt, handleEditPost }) {\r\n  const [newDetails, setNewDetails] = React.useState({\r\n    title: \"\",\r\n    body: \"\",\r\n  });\r\n  const [loading, setLoading] = React.useState(false);\r\n  React.useEffect(() => {\r\n    setNewDetails({\r\n      title: data.title,\r\n      body: data.body,\r\n    });\r\n  }, []);\r\n  return (\r\n    <div onClick={() => closeIt()} className=\"edit-post-main\">\r\n      <div onClick={(e) => e.stopPropagation()} className=\"epm-modal\">\r\n        <h4>Edit the Post</h4>\r\n        <div className=\"input-wrapper\">\r\n          <p>Title</p>\r\n          <input\r\n            name=\"title\"\r\n            onChange={(e) =>\r\n              setNewDetails({ ...newDetails, [e.target.name]: e.target.value })\r\n            }\r\n            value={newDetails.title}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-wrapper\">\r\n          <p>Body</p>\r\n          <textarea\r\n            onChange={(e) =>\r\n              setNewDetails({ ...newDetails, [e.target.name]: e.target.value })\r\n            }\r\n            name=\"body\"\r\n            value={newDetails.body}\r\n          />\r\n        </div>\r\n        <button\r\n          onClick={() => {\r\n            handleEditPost(newDetails);\r\n            setLoading(true);\r\n          }}\r\n        >\r\n          {loading ? \"Editing...\" : \"Submit\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./post-page.style.scss\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport {\r\n  addComment,\r\n  deletePosts,\r\n  editThePost,\r\n  getCommentsForPost,\r\n  getPostDetails,\r\n} from \"./../../Services/APIs\";\r\nimport HeaderComponent from \"../Common/HeaderComponent/HeaderComponent\";\r\nimport nextId from \"react-id-generator\";\r\nimport { MainContext } from \"./../Context/Context\";\r\nimport Confirmation from \"../Common/Confirmation/Confirmation\";\r\nimport EditPost from \"./EditPost/EditPost\";\r\nexport default function PostPage() {\r\n  const history = useHistory();\r\n  const context = React.useContext(MainContext);\r\n  const { usersObject } = context;\r\n  const { postId, id } = useParams();\r\n  const [postDetails, setPostDetails] = React.useState(null);\r\n  const [details, setDetails] = React.useState(null);\r\n  const [comments, setComments] = React.useState([]);\r\n  const [comment, setComment] = React.useState(\"\");\r\n  const [editing, setEditing] = React.useState(false);\r\n  const [deleteModal, setDeleteModal] = React.useState(false);\r\n  const setUpPostDetails = async () => {\r\n    try {\r\n      let res = await getPostDetails(postId);\r\n      setPostDetails(res.data);\r\n    } catch (error) {}\r\n  };\r\n\r\n  const setUpComments = async () => {\r\n    let res = await getCommentsForPost(postId);\r\n    if (res.data) {\r\n      let temp = res.data.map((obj) => {\r\n        return { ...obj, key: nextId() };\r\n      });\r\n      setComments([...temp]);\r\n    }\r\n  };\r\n  const addCommentCall = async () => {\r\n    try {\r\n      let tempObj = {\r\n        name: details.name,\r\n        email: details.email,\r\n        body: comment,\r\n        postId: postId,\r\n      };\r\n      let res = await addComment({ ...tempObj });\r\n      let temp = [{ ...tempObj, id: res.data.id, key: nextId() }, ...comments];\r\n      setComments([...temp]);\r\n      setComment(\"\");\r\n    } catch (error) {}\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      let res = await deletePosts(postId);\r\n      setDeleteModal(false);\r\n      history.push(`/user/${id}`);\r\n    } catch (error) {\r\n      alert(error);\r\n      setDeleteModal(false);\r\n    }\r\n  };\r\n\r\n  const handleEditPost = async (data) => {\r\n    try {\r\n      let temp = { ...data, id: id, postId: postId };\r\n      let res = await editThePost({ ...temp });\r\n      if (res.data) {\r\n        setPostDetails({ ...postDetails, ...data });\r\n      }\r\n      setEditing(false);\r\n    } catch (error) {}\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    setUpPostDetails();\r\n    setUpComments();\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    setDetails(usersObject[id]);\r\n  }, [usersObject]);\r\n  return !postDetails || !details ? (\r\n    \"Loading...\"\r\n  ) : (\r\n    <div className=\"post-page-main\">\r\n      {editing && (\r\n        <EditPost\r\n          handleEditPost={handleEditPost}\r\n          data={postDetails}\r\n          closeIt={() => setEditing(false)}\r\n        />\r\n      )}\r\n      {deleteModal && (\r\n        <Confirmation\r\n          closeIt={() => setDeleteModal(false)}\r\n          handleDelete={handleDelete}\r\n        />\r\n      )}\r\n      <HeaderComponent />\r\n      <section className=\"pgm-body\">\r\n        <h3>{postDetails.title}</h3>\r\n        <div className=\"pgm-user-details\">\r\n          <p>\r\n            <img\r\n              src={\r\n                \"https://t3.ftcdn.net/jpg/02/58/89/90/360_F_258899001_68CalsKTRk6PZQgWH9JhR4heBlncCko9.jpg\"\r\n              }\r\n            />\r\n            {details.name}\r\n          </p>\r\n          <div>\r\n            <button onClick={() => setEditing(true)} title=\"Edit Post\">\r\n              <img src=\"https://img.icons8.com/ios-glyphs/60/64b464/edit--v1.png\" />\r\n            </button>\r\n            <button onClick={() => setDeleteModal(true)} title=\"Delete Post\">\r\n              <img src=\"https://img.icons8.com/material-rounded/48/ce392f/filled-trash.png\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <figure className=\"pgm-cover\">\r\n          <img src=\"https://wallpaperaccess.com/full/1376490.jpg\" />\r\n        </figure>\r\n        <article>\r\n          <p>{postDetails.body}</p>\r\n        </article>\r\n      </section>\r\n      <section className=\"pgm-comments\">\r\n        <form\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n            if (!comment) return;\r\n            addCommentCall();\r\n          }}\r\n          className=\"pgm-c-add\"\r\n        >\r\n          <img\r\n            src={\r\n              \"https://t3.ftcdn.net/jpg/02/58/89/90/360_F_258899001_68CalsKTRk6PZQgWH9JhR4heBlncCko9.jpg\"\r\n            }\r\n          />\r\n          <div>\r\n            <textarea\r\n              required\r\n              placeholder=\"Comment Here\"\r\n              value={comment}\r\n              onChange={(e) => {\r\n                setComment(e.target.value);\r\n              }}\r\n            />\r\n            <button>Comment</button>\r\n          </div>\r\n        </form>\r\n        <h3>Comments</h3>\r\n        <ul>\r\n          {comments.map((obj) => (\r\n            <li key={obj.key} className=\"comment-wrapper\">\r\n              <h5>\r\n                <img\r\n                  src={\r\n                    \"https://t3.ftcdn.net/jpg/02/58/89/90/360_F_258899001_68CalsKTRk6PZQgWH9JhR4heBlncCko9.jpg\"\r\n                  }\r\n                />\r\n                {obj.name}\r\n              </h5>\r\n              <div>\r\n                <p>{obj.body}</p>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}